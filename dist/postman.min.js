!function(){function e(e){e=e||{},this.id=e.id||n(),this.type=e.type,this.name=e.name,this.error=e.error,this.payload=e.payload}function t(e,t,r){this.id=n(),this.contentWindow=e,this.domain=t,this.handlers={},this.timeoutDuration=r||5e3,i[this.id]=this}function n(e){var t="23456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghkmnpqrstuvwxyz",n="";e=e||6;for(var i=0;e>i;i++){var r=Math.floor(Math.random()*t.length);n+=t.substring(r,r+1)}return n}window.postman={};var i={},r={},a={};postman.createClient=function(e,n,i){return new t(e,n,i)},e.create=function(t){return new e(t||{})},e.parse=function(t){var n=JSON.parse(t.data);return new e(n)},e.prototype.toJSON=function(){var e={id:this.id,type:this.type,name:this.name,error:this.error,payload:this.payload};return JSON.stringify(e)},t.prototype.sendMessage=function(e){this.contentWindow.postMessage(e.toJSON(),this.domain)},t.prototype.emit=function(t,n,i){var o=e.create({type:"req",name:t,payload:n});i&&(r[o.id]=i,a[o.id]=setTimeout(function(){var e=r[o.id];e&&e(new Error("Timeout exceed.")),delete r[o.id],delete a[o.id]},this.timeoutDuration)),this.sendMessage(o)},t.prototype.on=function(e,t){this.handlers[e]=t},t.prototype.handleMessage=function(t){var n=this,i=this.handlers[t.name],r=function(i,r){var a=e.create({id:t.id,name:t.name,type:"res",error:i,payload:r});n.sendMessage(a)};i&&i(t.payload,r)},window.addEventListener("message",function(t){var n=e.parse(t);switch(n.type){case"req":for(var o in i){var s=i[o];s.contentWindow==t.source&&s.handleMessage(n)}break;case"res":var d=r[n.id];d&&d(n.error,n.payload),a[n.id]&&clearTimeout(a[n.id]),delete r[n.id]}},!1)}();